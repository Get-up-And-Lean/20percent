# 24/33第23课：专项能力修炼

大家好，我是安晓辉。这节课我们来看看怎样修炼专项能力。

优秀开发者的工作和学习过程如下图所示：

![enter image description here](http://images.gitbook.cn/c547d110-c0f8-11e7-8ee0-e5ca2335909b)

开发者很少有专门的时间用来学习，而是通过做项目，在事上磨练，做完项目，回顾，梳理，更新知识体系，以这样的方式，不断成长。

在这个过程中，有两个阶段，是修炼专项能力的关键。如下所示：

![enter image description here](http://images.gitbook.cn/a41ac650-c0f8-11e7-9e66-417d86de5c56)

一般的开发者，往往只有第 1 个阶段，即摸爬滚打做完成项目的阶段。而积极主动的开发者，往往会在项目交付后，进入第 2 个阶段，进行回顾，必要时重新做一些练习，通过回顾和练习，梳理项目中用到的知识，把各种知识关联起来，纳入已有的知识体系中。有阶段 2 ，工作和学习的过程，才能形成完成闭环，知识体系才能更快、更好的构建起来。否则，只有阶段 1 ，你就会长时间陷在“被动完成工作、不停做项目却收获甚微成长缓慢”的泥淖里。

实施阶段 2 ，更多的是一个意识转变的过程，一开始你需要有意识地去采用一些办法（比如使用待办事项列表）来督促自己去做这些事情，当你做上几次，养成了习惯，再做新项目，就会自然而然地去做这些事情。到了那个程度，阶段 2 就会像刷牙洗脸一样自动执行，不断帮你更新完善知识体系。

介绍了阶段 1 和阶段 2 ，现在我们来看如何修炼专项能力。

一门编程语言、一个技术框架，其本身的知识层次会有深浅，在学习时，存在先后顺序和一般性规律。根据这种深浅层次和一般性规律，可以把针对某个技术框架的学习过程分成三个层次：

1. 基础层：了解基础 API ，基于 API 开发实现简单功能
2. 进阶层：熟悉内核及原理，了解框架的设计原理，阅读源码，洞悉内在机理，能够熟练地、更好地使用各种 API 及其组合开发相对复杂的功能模块
3. 改造层：针对框架的已有功能的不足进行完善、优化，或者使用框架提供的机制扩展框架功能，或者对框架进行定制，让它适合特定情境

我比较熟悉 Qt，Qt 这个应用开发框架，三阶段的划分如下图所示：

![enter image description here](http://images.gitbook.cn/da88f2c0-c0f8-11e7-bb24-096c4bf57b34)

多数技术框架，通过分析，都可以划分出类似上面的知识层次和学习阶段。如果你自己划分不出来，也可以问身边的牛人或者在网络上检索相关文章。

接下来，我们就以技术框架学习的三个层次为纲，结合在项目开发中学习的两个阶段，介绍下如何修炼专项技术。

### 基础层

刚入行的开发者，接手任意项目，都处在这个层次。熟悉某一技术方向的开发者，进入一个使用新技术新框架的项目组，也处在这个层级。

在这个层级，要做下列事情：

- 知道用什么、学什么
- 了解某个知识点、技术点怎么用，记住关键 API 或模块的名字
- 做一些小的练习和测试，体会这些知识点、 API 的效果
- 按别人的指点或设计，先完成工作，时间不允许就不追根究底

稍稍展开描述下。

#### 知道学什么

有一定经验的开发者，可能会利用已有知识和经验做一些搜索，能够搜集到实现某个功能要用的知识点和技术点。而缺乏开发经验和知识积累的新人，在面对一个新任务时，往往是懵逼的，不知道要用什么实现，也不知道要学习什么。

这个时候，最可靠的方法就是：问人。鼻子底下就是路，别让不好意思害了你，只管去问老司机，尤其是安排你任务的老司机。问出来要学什么，你就可以开始做事情了。假如你请教的对象很资深，和你层级差距、知识差距太大，因为他已经忘了当初自己怎么走过来的，不大可能体谅你一问三不知的惶恐，很可能只给你一句话：“这个很简单，角色和权限分开做就好了”。这样的话，你听了和没听差不多。遇到这种情况，要么继续问。要么你在问之前就做一下选择，找那个比你高一个 Level 或者刚走过你这个 Level 的同事去问。

当你知道要学什么了，就可以通过买书、买课、网络搜索技术文章、培训等各种方式，快速学习起来。

记住，领导很少给你时间让你专门学习，你需要自己抽空去学。早上上班前、中午午休时、晚上下班后、周末休假时，都是可以利用的时间。我刚转做开发时，什么都不懂，白天在单位写代码，晚上回家看书、啃 MSDN 、用 VC 写各种小 DEMO ，几乎所有业余时间（除了陪女友），都用来补课了。也正因为那将近一年的持续投入，我才能迅速还债，跟上团队的步伐。

#### 了解用法，记忆关键词

很多人会觉得，现在的 IDE 都那么智能了，你输入一两个字母，它就能给出提示，你只要选择一下合适的关键词就可以了，没必要记住各种 API 。

我很不赞同这种说法和做法。

你不知道 CreateWindow 这个 Win32 API ，你怎么输入 Create 然后等待 Visual Studio 的智能提示？

你不知道 LinearLayout ，你怎么可能在 Android Studio 中输入 Lin 然后等待它的提示？

有些你看不起的“笨功夫”，一定不能省！对于编程来讲，你省去了记忆关键词这一步，你就：

- 不知道如何在 IDE 中输入开头那几个字母，就无法利用 IDE 的智能提示
- 不知道在网上搜索问题时用什么关键字
- 无法建立起来关键词和功能特性之间的关联，在遇到问题时就无法第一时间反应并分析

我在信利时有位同事，跳槽去了腾讯，时隔两年还在 QQ 上问我某个 Win32 函数怎么拼写，这仅仅是因为他和我一起工作时，想起要用什么特性，我都能说出对应 API 的名字。

记住关键词和与它关联的功能特性，就是曾国藩编练湘军时的“结硬寨”，是硬功夫，绝不能省。

#### 练习与测试

爬珠峰的攀登者，都会提前几年开始做训练。跑全马的选手，也会提前一两年做渐进式练习。熟练的演讲人，在演讲前还要写稿、小范围反复模拟……

在很多很多领域，要做一件相对复杂的事情，参与者都会先做各种练习和准备。可唯独编程开发，反其道而行之，不管开发者是否具备相应的知识、有没有用过某种技术，直接加入项目组开始做面向用户的产品。

这导致的结果就是，一方面这些缺乏相应知识、技能的开发者频繁返工，导致进度滞后，另一方面产品代码漏洞百出质量糟糕。

所以如果你有做得好一些的意愿，最好是在正式动工做项目之前，先把要用到的知识、技术练练，自己设计一些小 DEMO （可以根据目标产品的设计作简化），实际测测那些模块、那些 API 的效果。如果你自己设计不出来，那就把 SDK 中相关的示例拿出来跑跑，参照着做一个自己的，练练手；或者在网上搜索某个 API 的用法，看看有没有其他开发者分享自己的 DEMO 。

#### 先完成工作

开发者的工作是面向交付的，要以目标为导向，优先交付可运行的软件。

在这样一个指导原则下，如果你是一个新人，需要注意两点：

- 先接纳老司机的设计，按照要求先做出来。别人那么设计，一定有其道理，你段位不到，不要自以为是的去怀疑。
- 先把技术框架当黑盒，你只要搞明白怎么调用、有什么效果，就可以很好的完成别人安排给你的任务了。

如果你是一个经验丰富的老司机，进入一个采用新技术的项目组，也要：

- 先肯定别人设计的可取之处，然后再结合自己的经验去分析、讨论，看看有没有更好的设计选择。因为很多技术本身就有应用场景和设计原则，虽然你对另一种技术很熟悉，但并不代表你建立在那种技术上的经验和认知可以直接套用在新的技术上。
- 遏制住“我很厉害、一定要先搞清原理再来应用”的想法，先把技术框架当黑盒，用它完成工作。有时间再去探究 API 和 框架背后的秘密。（这是学习阶段 2 可以做的事情）

我强调先完成工作，但也请注意，如果完成工作用的知识、技术是你想要深入积累的方向，那么请千万不要忘了回顾过程，在有时间的时候，去深入学习你用到的知识，并且把它们纳入你的知识体系。

### 进阶层

你使用某种新技术做过几个项目后，对各个模块的功能特性和基础 API ，应该都比较了解了。这个时候，应该对自己有进一步的要求，要去了解 API 背后的原理和思想了。否则，你对一种技术永远不可能精通。

注意，每个开发者都有自己深耕的方向。如果当下所用技术只是临时性的用来解决一个问题，和你的主干方向关系不大，你自己又无意基于它发展出新的技能树，那不必深究。

在这个阶段，你需要做下列事情：

- **通过 SDK 文档、源码、图书等，了解已掌握知识的原理**。比如你用 Qt 的信号与槽，那就要了解信号和槽是怎么连接的、信号触发时经历了什么样的调用序列才抵达了槽、跨线程的信号触发时发生了什么事情，要了解这些，一方面你需要认真研读帮助文档，一方面还需要你走读相关模块的源码，做到通过源码更好理解外部组件行为的程度（此时达不到修改源码的水平也没关系）。
- **了解关联 API 和功能特性**。比如你使用 CreateWindow 创建了一个 Win32 窗口，那和这个 API 关联的还有什么？CreateWindowEx、SetWindowPos、MoveWindow、SetWindowTitle、RegisterClass、WM_CREATE、WM_NCCREATE，……，可以查看 MSDN ，每一个 API 的文章里，都有 Remarks 和 See Also 章节，那是我们延伸触角进一步学习的入口。每一种技术，Qt 、 Node.js 、 Android ，它们的文档中，都可以找到类似的章节。
- **自己设计 DEMO 来验证用过的知识点和关联知识点**。这是我们熟练手艺的过程，在修炼基础层时，我已经强调过练习的重要性。练习，练习，再练习。你知道一个知识点，“哦”一声，“懂了”，卵用没有！只有你能够用起来，写出代码，跑起来，做出可运行的东西，解决某种问题，才是真的学到了。
- **设计有实用功能的项目，借此梳理、整合用过的知识**。

有的项目对某种技术的使用要求较高，可能你必须得了解原理、思维后才能用起来，这时项目本身就给了你机会去学习接口后面的设计和思想。那这种时候，你就赚到了。

然而很多应用型的项目，其实只使用某种技术的基础特性就可以搞定，此时因为时间紧张的缘故，大部分开发者赶着完成任务，没空做这些“进阶”的事情，等项目结束了，又觉得“完事大吉、想那么多干么、自己找罪受”，所以就忽略了进阶的机会。久而久之，一时的懒惰，导致我们对大部分用过的技术都停留在基础层。这真是非常可惜的事情。

如果你在开发过程中无法在某种技术的学习上进入到进阶层，那一定要自己抽时间去完成这个工作。因为只有你完成了这些事情，你才能有更好的成长，才能跳出只会简单调用 API 的庞大群体，在开发之路上走得更远。

2009 年下半年我开始用 Qt 做开发时，和我一起使用 Qt 的小伙伴有两三个。我利用工作闲暇和业余时间，持续性做进阶层修炼，一年之后，我的团队，每个使用 Qt 的人，有不懂的 API 、有想不起来的特性、有不理解的源码和设计，都不再看帮助文档和示例，直接来问我。2014 年，我出版了讲述 Qt 的图书。

你一定要做些有难度的事情，才能越来越有价值。

所以我强烈建议你参照下图，把提升专项能力的两个典型阶段中的阶段 2 严格执行起来：

![enter image description here](http://images.gitbook.cn/a41ac650-c0f8-11e7-9e66-417d86de5c56)

### 改造层

很多人学习一种技术，做到进阶层，就认为是“精通”了。但实际上，只有做到改造层，才配得上“精通”二字。

要进行改造层的修炼，首先你需要多给自己分配一些角色，比如框架设计者、测试者、最终用户等。这样你就有了一个角色组合：

- 框架使用者
- 框架测试者
- 框架设计者
- 最终用户

给自己这么多角色的原因是：让自己可以从多个视角来审视你所用的技术框架，发现它的不足和不完善，选择优化的方向。

比如你作为 Qt 应用框架使用者，想在嵌入式设备上使用 5.5 版本中的 Qt Quick 来打造流畅、绚丽的界面，可是你的设备不支持 OpenGL ， Qt 5.5 的 Qt Quick 没有 OpenGL 无法运行。这个时候，你就可以选择实现一个基于 Frame Buffer 的适配层或者扩展 Qt ，直接加入一个 2D Renderer （5.7版本有了）。

比如你从自己的“用户角色”出发，想要自己使用的 App 有 Material Design 风格，而你的 App ，是使用 React Native 开发的，那转换到“框架使用者”的角色，你就会发现，自己需要一套针对 React Native 的 Material Design 风格组件，这个时候，你就需要再转换到“框架设计者”的角色，来考虑如何引入这个新的组件，是作为 RN 的內建组件，还是扩展模块……（现在 GitHub 上已经有好几个 MRN 相关的开源项目了）

改造层的修炼，可以这么做：

- **看看所用技术框架有无待改进或扩展的地方**。从四种角色，切换视角，慢慢发掘。
- **仔细阅读待改进源码，弄明白相应模块的代码实现逻辑和其反应的业务逻辑**。此时对源码阅读的要求，就和进阶层不同，进阶层是通过源码理解组件，改造层修炼的目的，通常是为了修改，要修改，就不单要吃透原有逻辑，还要能改变或者引入新的逻辑。这是更高的要求。
- **尝试改进或扩展**。当你要实施改进或扩展时，往往还要搞定 SDK 开发环境，熟悉相应的编译工具链、项目结构，这样你才能真的把自己要做的东西加进去。比如你要为 WebRTC 添加外部的视频编码器，就需要熟悉 gn ninja 和 WebRTC C++ 代码的组织结构。
- **设计 Demo ，应用你的改进或扩展，检视效果**。

如果你在某个技术框架上，能完成改造层的修炼，那你十有八九会成为这个技术框架的专家，在你的周围，你会有比较大的影响力，甚至在网络上，也能够通过“分享、输出”，很快建立影响力。但，这是“结硬寨、打呆仗”之路，必须有持续行动的准备，耐得住孤独的旅程。

### 专项能力和知识体系的关系

专项能力对应专项知识，专项知识的有机组合形成知识体系。所以我们说要通过做项目修炼专项能力，积累专业知识。但这并不是说，二者有必然的先后次序关系。它们的关系，是和知识体系的发展阶段有关的：

- 在我们是软件开发新人时，没有开发相关的知识体系，是先修炼专项能力，然后把专项知识和问题场景关联起来，形成知识体系的早期模样。
- 当我们有了简单的知识体系后，一方面会进一步在项目开发中修炼体系中的专项知识，把某个方向修炼到精通，让它成为知识体系中的大血管；另一方面，还会不断引入新的专项知识，完善、改造、更新我们的知识体系。
- 当我们拥有了结构化的、效用丰富的知识体系后，我们甚至可以创建新的知识，将这新知识再经由专项能力修炼，重新纳入到已有的知识体系或者新的知识体系中。